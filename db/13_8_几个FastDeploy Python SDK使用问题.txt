<html><head></head><body><blockquote><p><a href="https://github.com/PaddlePaddle/FastDeploy">FastDeploy</a>是一款全场景、易用灵活、极致高效的AI推理部署工具。<del>反正他们自己这么说的。</del></p></blockquote><h3 id="前言"><a href="https://xiue233.github.io/1970/01/01/fastdeploy_for_python_bug/#%E5%89%8D%E8%A8%80" class="headerlink" title="前言"></a>前言</h3><p>最近在做项目，碰巧需要使用FastDeploy的东西，就尝试了下他的python SDK，然后就有了以下的事情发生。</p><h3 id="1-样例代码错误"><a href="https://xiue233.github.io/1970/01/01/fastdeploy_for_python_bug/#1-%E6%A0%B7%E4%BE%8B%E4%BB%A3%E7%A0%81%E9%94%99%E8%AF%AF" class="headerlink" title="(1)样例代码错误"></a>(1)样例代码错误</h3><p>因为FastDeploy的Python Sample太负责了，导致<code>=</code>写为了<code>-</code>，成功让我<del>混了</del>提交了一个<a href="https://github.com/PaddlePaddle/FastDeploy/pull/633">PR</a>，不再累述。  </p><p>还有一个问题是样例图片的名字和实际调用的不同，自行根据实际名字更改下就行。</p><h3 id="2-PYyaml库不兼容"><a href="https://xiue233.github.io/1970/01/01/fastdeploy_for_python_bug/#2-PYyaml%E5%BA%93%E4%B8%8D%E5%85%BC%E5%AE%B9" class="headerlink" title="(2)PYyaml库不兼容"></a>(2)PYyaml库不兼容</h3><p>在他的文档里并未标明PYyaml库的版本<del>至少我没看到</del>，导致与新版PYyaml不兼容。<br/>需要在<strong>ofa/tutorial/latency_table.py</strong>文件中，添加</p><pre><code class="python">from yaml import CLoader as Loader</code></pre><p>并在第17行处给yaml.load()加上loder参数。</p><pre><code class="python">...from yaml import CLoader as Loader...        with open(fname, &#34;r&#34;) as fp:            self.lut = yaml.load(fp,Loader=Loader)...</code></pre><p>之后，这个问题就解决了。</p></body></html>