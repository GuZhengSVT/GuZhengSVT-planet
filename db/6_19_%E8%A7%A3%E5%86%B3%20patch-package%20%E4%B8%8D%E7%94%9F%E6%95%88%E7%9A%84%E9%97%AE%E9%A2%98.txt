<html><head></head><body><h1 id="解决-patch-package-不生效的问题">解决 patch-package 不生效的问题<a class="headerlink" href="https://note.stalomeow.com/blog/posts/patch-package-cache-problem/#%E8%A7%A3%E5%86%B3-patch-package-%E4%B8%8D%E7%94%9F%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98" title="Permanent link">¶</a></h1>
<!-- more -->

<p><code>patch-package</code> 是一个 npm 包，用来快速修复其他包中的 bug， 不需要等原作者更新。GitHub: <a href="https://github.com/ds300/patch-package">https://github.com/ds300/patch-package</a>。</p>
<p><mark>有新的 Patch 时，记得把之前的 Cache 清除掉，否则新 Patch 可能生效不了。</mark></p>
<h2 id="Vercel">Vercel<a class="headerlink" href="https://note.stalomeow.com/blog/posts/patch-package-cache-problem/#Vercel" title="Permanent link">¶</a></h2>
<p>清 Build Cache 的方法：</p>
<ul>
<li>在 Dashboard 上 Redeploy，同时不勾选 <code>Use existing Build Cache</code>。</li>
<li>加环境变量 <code>VERCEL_FORCE_NO_BUILD_CACHE</code>，并把值设为 <code>1</code>。这样的话，每次 Build 都不会用 Cache。</li>
<li>更多方法见：<a href="https://vercel.com/docs/deployments/troubleshoot-a-build#understanding-build-cache">Vercel 文档：Understanding Build cache</a>。</li>
</ul>
<h2 id="Next-js">Next .js<a class="headerlink" href="https://note.stalomeow.com/blog/posts/patch-package-cache-problem/#Next-js" title="Permanent link">¶</a></h2>
<p>把 <code>.next</code> 文件夹删掉就好。</p></body></html>