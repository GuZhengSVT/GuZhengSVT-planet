<html><head></head><body><p>最近在和大家一起用 Hetrzner 盒子进行 PT 刷流的过程中我学到了很多，找到了刷馒头大包更高效的方法，故记录、分享。</p><span id="more"></span><div class="tag-plugin note" color="green"><div class="body"><p>此文为 <a href="https://www.shifeiti.com/blog/2022-12-09/">省心的馒头保号教程</a> 中 <code>安装刷流系统</code>、<code>qBittorrent 设置</code> 这两部分内容修订、升级。</p></div></div><p>上周我开了四台 CPX21 选了四个大包，星期一早上删两台，晚上删剩下的两台，一共刷了 16T，发现新方法更加高效，与大家分享。</p><h2 id="服务器选择"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%89%E6%8B%A9" class="headerlink" title="服务器选择"></a>服务器选择</h2><h3 id="配置"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E9%85%8D%E7%BD%AE" class="headerlink" title="配置"></a>配置</h3><p>我们选用 Hetrzner 那款 CPX21，配置如下：</p><details class="tag-plugin folding"><summary><span>点击展开，查看 Hetzner CPX21 配置</span></summary><div class="body"><div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/bc62af6a42ee0558217b38a607932e98.jpeg" fancybox="true"/></div></div></div></details><div class="tag-plugin note" color="warning"><div class="title"><strong>一点提议：</strong></div><div class="body"><p>盒子卖方在交易时得提供一份如上图的性能测试结果，不然“千里马”盒子一点说服力也没用，莫拿破烂卖高价、坑小白。</p></div></div><h3 id="创建"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E5%88%9B%E5%BB%BA" class="headerlink" title="创建"></a>创建</h3><p>按如下选项创建一台即可：</p><div class="tag-plugin checkbox"><input type="checkbox" checked="true"/><span>区域：德国</span></div><div class="tag-plugin checkbox"><input type="checkbox" checked="true"/><span>镜像：Debian 10</span></div><div class="tag-plugin checkbox"><input type="checkbox" checked="true"/><span>服务器：CPX 21</span></div><div class="tag-plugin checkbox"><input type="checkbox" checked="true"/><span>网络：IPV4、IPV6</span></div><h2 id="安装刷流系统"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E5%AE%89%E8%A3%85%E5%88%B7%E6%B5%81%E7%B3%BB%E7%BB%9F" class="headerlink" title="安装刷流系统"></a>安装刷流系统</h2><h3 id="刷流系统介绍"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E5%88%B7%E6%B5%81%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D" class="headerlink" title="刷流系统介绍"></a>刷流系统介绍</h3><p>单纯从刷流来说，我们选用 <a href="https://github.com/jerry048/Dedicated-Seedbox">jerry048/Dedicated-Seedbox</a> ，比我上篇教程里用的 <a href="https://github.com/amefs/quickbox-lite">QuickBox-Lite</a> 更高效。</p><div class="tag-plugin ghcard"><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/jerry048/Dedicated-Seedbox"><img src="https://dja6-ksvwjzd-qltxcezl-w6z7n-czu4ar4b.seeseeme.cn/ghcard/pin/username=jerry048&amp;repo=Dedicated-Seedbox&amp;&amp;show_owner=true"/></a></div><h3 id="安装过程"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B" class="headerlink" title="安装过程"></a>安装过程</h3><h4 id="一键脚本"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC" class="headerlink" title="一键脚本"></a>一键脚本</h4><p>依旧是一键脚本，如下，其中 <code>&lt;用户名称&gt;</code>、<code>&lt;用户密码&gt;</code>、<code>&lt;缓存大小(单位:GiB，且为整数)&gt;</code> 需自己配置：</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bash &lt;(wget -qO- https://raw.githubusercontent.com/jerry048/Dedicated-Seedbox/main/Install.sh) &lt;用户名称&gt; &lt;用户密码&gt; &lt;缓存大小(单位:GiB，且为整数)&gt;</span><br/></pre></td></tr></tbody></table></figure><div class="tag-plugin note" color="error"><div class="body"><p>为了防止服务器被爆破，用户名称、用户密码请勿使用 <code>admin</code>、<code>root</code>、<code>adminadmin</code> 等常见的弱密码，尽量使用强密码。<br/>强密码的几点准则：</p><ol><li>长度不小于 12 个字符，14 个字符以上则更好。</li><li>含大小写字母、数字和符号多种字符的随机组合。</li></ol></div></div><div class="tag-plugin note" color="green"><div class="body"><p>2023 年 2 月 3 日，有部分吧友反应脚本的新版本不可用。我也不懂不会改脚本，就把旧版本复刻了一份供大家使用。<br/>如果新版本不可用，可用旧版本替代，方法如下：只需要在输入那行命令时把 <code>jerry048</code> 换为 <code>i-abc</code>，即：</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">bash &lt;(wget -qO- https://raw.githubusercontent.com/i-abc/Dedicated-Seedbox/main/Install.sh) &lt;用户名称&gt; &lt;用户密码&gt; &lt;缓存大小(单位:GiB，且为整数)&gt;</span><br/></pre></td></tr></tbody></table></figure></div></div><p>如果服务器是 CPX21 的话，可以照抄我的，我 <code>缓存大小</code> 为 1GiB，如图：</p><div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/04cb2ac8131ad3e80f194894dfaf2438.png" fancybox="true"/></div></div><h4 id="具体安装细节"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E5%85%B7%E4%BD%93%E5%AE%89%E8%A3%85%E7%BB%86%E8%8A%82" class="headerlink" title="具体安装细节"></a>具体安装细节</h4><ul><li>是否安装 qBittorrent？Y：<div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/8900eb152e67355328d414456afc303b.png" fancybox="true"/></div></div></li><li>4.3.9 版本：<div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/7d6899b86d1337dd941529a5650afaa4.png" fancybox="true"/></div></div></li><li>是否安装 Deluge？N：<div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/013d87136d5ca3c5f020888246a5b715.png" fancybox="true"/></div></div></li><li>是否安装自动删种？N：<div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/d0b3013644a7065e93f01446aa405db1.png" fancybox="true"/></div></div></li><li>是否安装魔改 BBR？Y：<div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/6104b3fd3035acd9b55e468320cf5057.png" fancybox="true"/></div></div></li><li>选第二个：<div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/4c66cc59c2896688f25a48a40d40cbad.png" fancybox="true"/></div></div>安装完成，需要输入 <code>reboot</code> 重启服务器，等一两分钟后我们可以通过 <code>http://服务器ip:8080</code> 访问 qBittorrent。<div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/eb664638d42055aab3276b5839805ede.png" fancybox="true"/></div></div></li></ul><h2 id="qBittorrent-设置"><a href="https://www.shifeiti.com/blog/2023-01-12/#qBittorrent-%E8%AE%BE%E7%BD%AE" class="headerlink" title="qBittorrent 设置"></a>qBittorrent 设置</h2><h3 id="登录"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E7%99%BB%E5%BD%95" class="headerlink" title="登录"></a>登录</h3><p>用户名、密码为是上一步 <a href="https://www.shifeiti.com/blog/2023-01-12/#%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC">一键脚本</a> 里的：</p><div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/8e3f75aa544bb020cfabe3f0cf4f1fb5.png" fancybox="true"/></div></div><h3 id="进阶优化"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E8%BF%9B%E9%98%B6%E4%BC%98%E5%8C%96" class="headerlink" title="进阶优化"></a>进阶优化</h3><p>这是优化版的 qBittorrent，基本设置不用动，我们只需要优化一下高级设置。</p><p>针对 CPX21，它属于性能强劲的机器，我们只需设置 <code>缓存大小</code>、<code>异步 I/O 线程数</code>这两项：</p><div class="tag-plugin note" color="yellow"><div class="body"><ol><li>缓存大小应设置为机器内存大小的 1/4 左右。如果你使用的是 qBittorrent 4.3.x, 则需考虑内存溢出的问题并设置缓存大小为机器内存大小的 1/8。</li><li>异步 I/O 线程数的基础设定是 4， 该数值对 HDD 比较友好。如果你使用的是 SSD 甚至是 NVMe 的话, 你可以调整此参数到 8 甚至到 16。</li></ol></div></div><h4 id="缓存大小"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E7%BC%93%E5%AD%98%E5%A4%A7%E5%B0%8F" class="headerlink" title="缓存大小"></a>缓存大小</h4><p>缓存大小我们在执行一键脚本的时候设置过，选择的是 1 GiB，即图中的 1024 MiB。我们安装的 qBittorrent 版本为 4.3.9，按照文档，缓存大小应设置为机器内存大小的 1/8（即 512MiB），但经过我实测，设置为 1 GiB 也行，服务器不会崩溃，所以就保持 1024 MiB 不动：</p><div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/6064e22fa7c100f5288fe0a47f3d405d.png" fancybox="true"/></div></div><h4 id="异步-I-x2F-O-线程数"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E5%BC%82%E6%AD%A5-I-x2F-O-%E7%BA%BF%E7%A8%8B%E6%95%B0" class="headerlink" title="异步 I/O 线程数"></a>异步 I/O 线程数</h4><p>CPX21 是 Hetzner Cloud 中的一款服务器，硬盘为 NVMe，故异步 I/O 线程数我们设置为 16：</p><div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/6d53e720b96045789e566073de5aa7e6.png" fancybox="true"/></div></div><h2 id="添加种子"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E6%B7%BB%E5%8A%A0%E7%A7%8D%E5%AD%90" class="headerlink" title="添加种子"></a>添加种子</h2><h3 id="限速"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E9%99%90%E9%80%9F" class="headerlink" title="限速"></a>限速</h3><p>我们硬盘只剩 70 GiB，肯定装不完一个完整的大包，所以我们需要拆包，为了便于拆包，我们选择不自动开始。同时做好限速，我限速为 90000 KiB/s，求稳：</p><div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/671b2e576f2a64f8c1ebebfa086374cb.png" fancybox="true"/></div></div><h3 id="拆包"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E6%8B%86%E5%8C%85" class="headerlink" title="拆包"></a>拆包</h3><p>选部分下载即可：</p><div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/a7b3bdc8eca4181fe1ad68b522f82fbe.png" fancybox="true"/></div></div><h2 id="探针（可选）"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E6%8E%A2%E9%92%88%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%89" class="headerlink" title="探针（可选）"></a>探针（可选）</h2><h3 id="探针介绍"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E6%8E%A2%E9%92%88%E4%BB%8B%E7%BB%8D" class="headerlink" title="探针介绍"></a>探针介绍</h3><p>我们可以安装探针来实时监控服务器的运行情况，两个探针可二选一。</p><h4 id="哪吒监控"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E5%93%AA%E5%90%92%E7%9B%91%E6%8E%A7" class="headerlink" title="哪吒监控"></a>哪吒监控</h4><div class="tag-plugin ghcard"><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/naiba/nezha"><img src="https://dja6-ksvwjzd-qltxcezl-w6z7n-czu4ar4b.seeseeme.cn/ghcard/pin/username=naiba&amp;repo=nezha&amp;&amp;show_owner=true"/></a></div><p>需自建，适合折腾、有基础的人。</p><h4 id="Nodepanels"><a href="https://www.shifeiti.com/blog/2023-01-12/#Nodepanels" class="headerlink" title="Nodepanels"></a>Nodepanels</h4><div class="tag-plugin link dis-select"><a class="link-card rich" title="" href="https://nodepanels.com" target="_blank" rel="external nofollow noopener noreferrer" cardlink="" autofill="title,icon,desc"><div class="top"><div class="lazy img" style="background-image:url(&#34;https://dja6-ksvwjzd-qltxcezl-w6z7n-czu4ar4b.seeseeme.cn/i-abc/blog-cdn/main/link/8f277b4ee0ecd.svg&#34;)"></div><span class="cap link fs12">https://nodepanels.com</span></div><div class="bottom"><span class="title">https://nodepanels.com</span><span class="cap desc fs12"></span></div></a></div><p>无需自建，直接使用，方便。</p><h5 id="Nodepanels-使用方法"><a href="https://www.shifeiti.com/blog/2023-01-12/#Nodepanels-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95" class="headerlink" title="Nodepanels 使用方法"></a>Nodepanels 使用方法</h5><ol><li>复制命令并输入：</li></ol><div class="tag-plugin gallery swiper" id="swiper-api" width="max"><div class="swiper-wrapper"><div class="swiper-slide"><img no-lazy="" src="https://pic.rmb.bdstatic.com/bjh/8c73007b62a13dfeeea42c860c99dc52.png" fancybox="true"/></div><div class="swiper-slide"><img no-lazy="" src="https://pic.rmb.bdstatic.com/bjh/c468d236e31ed0417741b26570855433.png" fancybox="true"/></div></div><div class="swiper-pagination"></div><div class="swiper-button-prev blur"></div><div class="swiper-button-next blur"></div></div><ol start="2"><li>成功，还可以选择分享给他人查看：</li></ol><div class="tag-plugin image"><div class="image-bg"><img src="https://pic.rmb.bdstatic.com/bjh/35783385b21c68dbf4cffad2d00f89f7.png" fancybox="true"/></div></div><h2 id="补充说明"><a href="https://www.shifeiti.com/blog/2023-01-12/#%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E" class="headerlink" title="补充说明"></a>补充说明</h2><ol><li>吧友建议</li></ol><blockquote><p>亲测 CPX51 全程顶着 125 MB/s，CPX41 前 48小时接近满速后逐渐回落，这两个都是能跑满 20T 删机的，再小的 VPS 的话速度掉的快很多，不过价格对应也便宜，怎么选就仁者见仁了。</p></blockquote><p>小硬盘的服务器确实掉速严重，从我选择将 CPX11 这款 40G 硬盘的换为 CPX21 这款 80G 的就可以看出。但我没开 CPX51 那么高配的服务器实测过（因为我没白嫖到试用金，所以扣扣嗖嗖的），全程顶着 125 MB/s 这一说法我不能打包票说一定正确，但我感觉是正确的。所以账户试用金余额多的可以开 CPX51 这款试试，CPX51 算下来每 T 上传量的单价可能会更低，而且可以用更少的次数刷更多的上传，省时间来看片，何乐而不为呢。</p></body></html>