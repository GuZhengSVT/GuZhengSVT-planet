import{bI as A,bL as C,M as N,bR as B,q as D,bH as F,bJ as V,aE as d,u as _,ao as p,bc as f,aQ as x,H as n,b3 as h,t as w,v as y,aq as j,b$ as z,c1 as H,cn as M,I as a,bx as e,F as k,aP as P,co as Y,s as q,cq as I,cp as T}from"./index-f3412c3a.js";import{d as E,c as L,h as O,E as R,e as U}from"./day-455175aa.js";import{E as J}from"./el-divider-6c783c49.js";const Q=A({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:C([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:C([String,Object,Array])}}),G=N({name:"ElStatistic"}),K=N({...G,props:Q,setup(s,{expose:l}){const v=s,r=B("statistic"),g=D(()=>{const{value:t,formatter:o,precision:i,decimalSeparator:u,groupSeparator:b}=v;if(F(o))return o(t);if(!V(t))return t;let[c,m=""]=String(t).split(".");return m=m.padEnd(i,"0").slice(0,i>0?i:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,b),[c,m].join(m?u:"")});return l({displayValue:g}),(t,o)=>(d(),_("div",{class:p(f(r).b())},[t.$slots.title||t.title?(d(),_("div",{key:0,class:p(f(r).e("head"))},[x(t.$slots,"title",{},()=>[n(h(t.title),1)])],2)):w("v-if",!0),y("div",{class:p(f(r).e("content"))},[t.$slots.prefix||t.prefix?(d(),_("div",{key:0,class:p(f(r).e("prefix"))},[x(t.$slots,"prefix",{},()=>[y("span",null,h(t.prefix),1)])],2)):w("v-if",!0),y("span",{class:p(f(r).e("number")),style:j(t.valueStyle)},h(f(g)),7),t.$slots.suffix||t.suffix?(d(),_("div",{key:1,class:p(f(r).e("suffix"))},[x(t.$slots,"suffix",{},()=>[y("span",null,h(t.suffix),1)])],2)):w("v-if",!0)],2)],2))}});var W=z(K,[["__file","statistic.vue"]]);const X=H(W);const Z={data(){return{authors:[{name:"张三",article:[{title:"test title",content:"test content"}]},{name:"李四",article:[{title:"test title",content:"test content"}]}]}},created(){this.fetchFeed()},computed:{allArticles(){return this.authors.reduce((s,l)=>{var v;return s.concat((v=l.article)==null?void 0:v.map(r=>({...r,name:l.name})))},[]).map(s=>({...s,time:E(s.time).format("YYYY-MM-DD HH:mm:ss")})).sort((s,l)=>new Date(l.time)-new Date(s.time))},wordCount(){return this.allArticles.reduce((s,l)=>s+l.content.length,0)},timeCount(){const s=this.allArticles[this.allArticles.length-1].time,l=this.allArticles[0].time;return E(l).diff(E(s),"day")}},methods:{fetchFeed(){L.get("db.json").then(s=>{this.authors=s.data.author}).catch(s=>{O.get("/feed").then(l=>{this.authors=l.data.author})})},viewUrl(s){window.open(s)}}};function tt(s,l,v,r,g,t){const o=X,i=I,u=Y,b=J,c=T,m=R,$=U;return d(),_(k,null,[a(u,{style:{"margin-bottom":"1rem"}},{default:e(()=>[a(i,{span:12},{default:e(()=>[a(o,{title:"文章总数",value:t.allArticles.length},{suffix:e(()=>[n("篇")]),_:1},8,["value"])]),_:1}),a(i,{span:12},{default:e(()=>[a(o,{title:"总字数",value:t.wordCount},{suffix:e(()=>[n("字")]),_:1},8,["value"])]),_:1})]),_:1}),a(u,null,{default:e(()=>[a(i,{span:12},{default:e(()=>[a(o,{title:"成员总数",value:g.authors.length},{suffix:e(()=>[n("人")]),_:1},8,["value"])]),_:1}),a(i,{span:12},{default:e(()=>[a(o,{title:"历史",value:t.timeCount},{suffix:e(()=>[n("天")]),_:1},8,["value"])]),_:1})]),_:1}),a(b,null,{default:e(()=>[n("Members")]),_:1}),(d(!0),_(k,null,P(g.authors,S=>(d(),q($,{class:"author-card",style:{"box-shadow":"none","margin-bottom":"1rem",padding:"0.8em"}},{default:e(()=>[a(u,{style:{"margin-bottom":"16px"}},{default:e(()=>[a(c,{style:{"font-weight":"100"}},{default:e(()=>[n(h(S.name),1)]),_:2},1024)]),_:2},1024),a(u,null,{default:e(()=>[y("span",null,[a(c,{type:"primary",style:{"margin-inline":"0.5rem","font-size":"1.25rem"}},{default:e(()=>[n("|")]),_:1}),a(c,{style:{"font-size":"1.25rem"}},{default:e(()=>[n(h(S.description),1)]),_:2},1024)])]),_:2},1024),a(u,null,{default:e(()=>[a(i,{span:24,style:{"text-align":"right"}},{default:e(()=>[a(m,{text:"",onClick:et=>t.viewUrl(S.uri)},{default:e(()=>[n("View Site")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))],64)}const nt=M(Z,[["render",tt]]);export{nt as default};
